# Read the Docs configuration file
# See https://docs.readthedocs.io/en/stable/config-file/v2.html for details
version: 2

sphinx:
  configuration: docs/conf.py

build:
  image: latest

python:
  version: 3.8
  install:
    - requirements: docs-requirements.txt
    # Need to install the api/sdk in the venv for autodoc. Modifying sys.path
    # doesn't work for pkg_resources.
    # Keep these packages in sync with tox.ini.
    - method: pip
      path: -e "git+https://github.com/open-telemetry/opentelemetry-python.git#egg=opentelemetry-api&subdirectory=opentelemetry-api"
    - method: pip
      path: -e "git+https://github.com/open-telemetry/opentelemetry-python.git#egg=opentelemetry-semantic-conventions&subdirectory=opentelemetry-semantic-conventions"
    - method: pip
      path: -e "git+https://github.com/open-telemetry/opentelemetry-python-contrib.git#egg=opentelemetry-instrumentation&subdirectory=opentelemetry-instrumentation"
    - method: pip
      path: -e "git+https://github.com/open-telemetry/opentelemetry-python.git#egg=opentelemetry-sdk&subdirectory=opentelemetry-sdk"
    - method: pip
      path: -e "git+https://github.com/open-telemetry/opentelemetry-python.git#egg=opentelemetry-test&subdirectory=tests/util"
    - method: pip
      path: -e "git+https://github.com/open-telemetry/opentelemetry-python-contrib.git#egg=opentelemetry-util-http&subdirectory=util/opentelemetry-util-http"
